<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the DNA API! You can use our API to access DNA API endpoints, which can get information on various elements customers, devices, and billing in our database.</p>

<p>We have language bindings in Shell and PHP we also have <a href='https://www.getpostman.com/collections/af70b4327c9f4ded36f5'>Postman</a> for you to test the methods without writing code! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>This example API documentation page was created with <a href="https://github.com/tripit/slate">Slate</a>. </p>

<h1 id="api-flow">API Flow</h1>

<p>The Api offers different methods here are some flow examples so you can visualize how the information will flow:</p>

<h2 id="flow-diagram-legend">Flow Diagram Legend</h2>

<p><img src="images/legend.png" alt="Legend"></p>

<h2 id="create-client-method">Create Client Method</h2>

<p><img src="images/client.png" alt="Client"></p>

<h2 id="activate-client-method">Activate Client Method</h2>

<p><img src="images/activate.png" alt="Activate"></p>

<h2 id="suspend-client-method">Suspend Client Method</h2>

<p><img src="images/suspend.png" alt="Suspend"></p>

<h2 id="create-device-method">Create Device Method</h2>

<p><img src="images/device.png" alt="Device"></p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"http://staging.api.nexogy.com/api/oauth/token?grant_type=password&amp;client_id=&lt;value&gt;&amp;client_secret=&lt;value&gt;&amp;username=&lt;value&gt;&amp;password=&lt;value&gt;&amp;scope=&lt;value&gt;"</span>
  -H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight php tab-php"><code>
</code></pre>
<blockquote>
<p>Make sure to replace the required <code class="prettyprint">&lt;value&gt;</code> with the information provided.</p>

<p>The above command returns a JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">  
     </span><span class="s2">"token_type"</span><span class="p">:</span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="mi">1200</span><span class="p">,</span><span class="w">
     </span><span class="s2">"access_token"</span><span class="p">:</span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjY1N2"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="s2">"kvwLi6kTeq7DGbfsKLVvz/6zaCioe8Vk50x1QdlHJDFp4thYzPj5v"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<aside class="warning">It is very important that in order for this documentation to work, you must have requested access to the API and recieved the following information: </aside>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>password</td>
<td>This value is constant.</td>
</tr>
<tr>
<td>client_id</td>
<td>?????</td>
<td>Once you&rsquo;ve been approved to use our API you&rsquo;ll receive this value.</td>
</tr>
<tr>
<td>client_secret</td>
<td>?????</td>
<td>Once you&rsquo;ve been approved to use our API you&rsquo;ll receive this value.</td>
</tr>
<tr>
<td>username</td>
<td>?????</td>
<td>Once you&rsquo;ve been approved to use our API you&rsquo;ll receive this value.</td>
</tr>
<tr>
<td>password</td>
<td>?????</td>
<td>Once you&rsquo;ve been approved to use our API you&rsquo;ll receive this value.</td>
</tr>
<tr>
<td>scope</td>
<td>?????</td>
<td>Once you&rsquo;ve been approved to use our API you&rsquo;ll receive this value.</td>
</tr>
</tbody></table>

<p>Once you have the values described above you can make the API calls using your <code>access_token</code> and the <code>token_type</code> .
To help with your development use Postman and add the following <a href="http://example.com/developers">Collection</a>.</p>

<p>DNA API expects for the <code>token_type</code> and <code>access_token</code> to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization:Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjY1N2</code></p>

<aside class="notice">
You must replace <code>`values`</code> with your provided values. and add the <code>token_type</code> and <code>access_token</code> as values for the <code>Authorization</code>headers for all your API calls.
Additionally use the <code>Accept:application/json</code> Headers for every API call.
</aside>

<h1 id="client">Client</h1>

<h2 id="create-a-client">Create a Client</h2>

<blockquote>
<p>To Create a new client, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://staging.api.nexogy.com/api/residential/client?start_billing_date=&lt;value&gt;&amp;
customer_id=&lt;value&gt;&amp;has_subreseller_id=&lt;value&gt;&amp;subreseller_id=&lt;value&gt;&amp;email=&lt;value&gt;&amp;first_name=&lt;values&gt;&amp;last_name=&lt;value&gt;&amp;zipcode=&lt;value&gt;&amp;same_billing_address=&lt;value&gt;&amp;billing_address=&lt;value&gt;&amp;billing_zipcode=&lt;value&gt;"</span>
  -H <span class="s2">"Authorization:Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjY1N2"</span>
  -H <span class="s2">"Accept:application/json"</span>
</code></pre><pre class="highlight php tab-php"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client"</span><span class="p">:</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">6519</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ns_domain"</span><span class="p">:</span><span class="s2">"ironmaiden.com"</span><span class="p">,</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint creates a Client on DNA. You will get back a <code>id</code> and a <code>ns_domain</code> these will be required for other operations. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://staging.api.nexogy.com/api/residential/client?start_billing_date=&lt;value&gt;&amp;
customer_id=&lt;value&gt;&amp;has_subreseller_id=&lt;value&gt;&amp;subreseller_id=&lt;value&gt;&amp;email=&lt;value&gt;&amp;first_name=&lt;values&gt;&amp;last_name=&lt;value&gt;&amp;zipcode=&lt;value&gt;&amp;same_billing_address=&lt;value&gt;&amp;billing_address=&lt;value&gt;&amp;billing_zipcode=&lt;value&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<aside class="warning">This request has no default parameters or values. Ignoring this will result in an error.</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_billing_date</td>
<td>2017-05-18</td>
<td>Date in  YYYY-MM-DD Format for Billing purposes</td>
</tr>
<tr>
<td>customer_id</td>
<td>1234</td>
<td>Customer id you use on your side.</td>
</tr>
<tr>
<td>has_subreseller_id</td>
<td>true</td>
<td>This is an id used to group your cleint&rsquo;s IDs under a subreseller account if you have resellers that handle your clients this is how we would identify them for consolidation purposes.</td>
</tr>
<tr>
<td>subreseller_id</td>
<td>1234</td>
<td>Send this parameter only if you use a subreseller structure.</td>
</tr>
<tr>
<td>email</td>
<td>email@email.com</td>
<td>Email used for any information required for the client, for example to send received V-mail.</td>
</tr>
<tr>
<td>first_name</td>
<td>Steve</td>
<td>First name for the client.</td>
</tr>
<tr>
<td>last_name</td>
<td>Harris</td>
<td>Last name for the client.</td>
</tr>
<tr>
<td>zipcode</td>
<td>33134</td>
<td>The client&rsquo;s zipcode.</td>
</tr>
<tr>
<td>address</td>
<td>126 Mendoza avenue aparment 7A</td>
<td>The client&rsquo;s address.</td>
</tr>
<tr>
<td>same_billing_address</td>
<td>true</td>
<td>Accepts true or false and determines if the address parameter will be used for billing, when false <code>billing_address</code> and <code>billing_zipcode</code> are required.</td>
</tr>
<tr>
<td>billing_address</td>
<td>2121 ponce de leon</td>
<td>The billing address.</td>
</tr>
<tr>
<td>billing_zipcode</td>
<td>33308</td>
<td>The billing zipcode.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — store your <code>&lt;id&gt;</code> and <code>&lt;ns_domain&gt;</code> for future operations!
</aside>

<h2 id="activate-a-client">Activate a Client</h2>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://staging.api.nexogy.com/api/residential/client/&lt;id&gt;/activate"</span>
  -H <span class="s2">"Authorization:Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjY1N2"</span>
  -H <span class="s2">"Accept:application/json"</span>
</code></pre><pre class="highlight php tab-php"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494597810</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint activates a specific client.</p>

<aside class="warning">You will need the <code>&lt;id&gt;</code> for this operation</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://staging.api.nexogy.com/api/residential/client/&lt;id&gt;/activate</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the client to activate,the one we sent you when the client was created</td>
</tr>
</tbody></table>

<h2 id="suspend-a-client">Suspend a Client</h2>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://staging.api.nexogy.com/api/residential/client/&lt;id&gt;/suspend"</span>
  -H <span class="s2">"Authorization:Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjY1N2"</span>
  -H <span class="s2">"Accept:application/json"</span>
</code></pre><pre class="highlight php tab-php"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1494597810</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint suspends a Client.</p>

<aside class="warning">You will need the <code>&lt;id&gt;</code> for this operation</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://staging.api.nexogy.com/api/residential/client/&lt;id&gt;/suspend</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the client to suspend, the one we sent you when the client was created</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">These errors have evolved with the API&rsquo;s and business&rsquo; requirements. Verify these errors frequently</aside>

<p>The DNA API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request – Your request sucks!</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized – Your token key is wrong or has expired.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden – The object requested is hidden for your Scope.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found – The specified object could not be found, invalid URL.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed – You tried to access an object with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable – You requested an invalid parameter or your parameters are not validated.</td>
</tr>
<tr>
<td>410</td>
<td>Gone – The object you requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>Undefined Error.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests – You’re making too much requests! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error – We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable – We’re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
